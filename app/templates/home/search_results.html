{% extends 'home/base.html' %}

{% block title %}Probe | Search Results{% endblock %}

{% block content %}
<div class="col">
    <form class="mt-5 container" name="search" style="width: 50%" action="{% url 'search' %}">
        <div class="col-6 mx-auto input-group">
            <input type="text" class="form-control" name="search" placeholder="search...">
            <button type="submit" class="btn btn-success">Search</button>
        </div>
    </form>

    <div class="container">
        <p>Search results for {{search_string}}</p>
        {% if page_obj %}
        {% for link in page_obj %}
        <div class="mt-3">

            <div class="col">
                <strong><a href="{{ link.url }}">{{ link.title }}</a></strong>
            </div>

            <div class="col">
                <a href="{{ link.url }}">{{ link.url }}</a>
                <p>{{ link.description }}...</p>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <strong>No results found </strong>
        {% endif %}
    </div>
</div>

<div class="container mt-5">
    <span class="step-links" align="center">
        {% if page_obj.has_previous %}
        <ul class="pagination">
            <li class="page-item"><a href="?search={{search_string}}&page=1" class="page-link">&laquo; first</a></li>
            <li class="page-item"><a href="?search={{search_string}}&page={{ page_obj.previous_page_number }}"
                    class="page-link">previous</a>
            </li>

            {% endif %}

            <span class="current">
                <b>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.</b>
            </span>

            {% if page_obj.has_next %}
            <li class="page-item"><a href="?search={{search_string}}&page={{ page_obj.next_page_number }}"
                    class="page-link">next</a></li>
            <li class="page-item"><a href="?search={{search_string}}&page={{ page_obj.paginator.num_pages }}"
                    class="page-link">last
                    &raquo;</a></li>
        </ul>
        {% endif %}
    </span>
</div>
{% endblock %}